---
title: Hexo文章加密
tags: [建站,hexo,加密]
categories:
  - 金融狗在假装码农
abstract: 这是一篇Demo文章，给你们看看这个加密的好处。
message: 感谢浏览，本文内容已加密，请输入密码，密码是123456：
top: 0
timestamp: pt=0201104812
date: 2019-02-01 10:48:12
photos:
author: Mr.K
password: 
---
> 最新使用的加密方法为[Hexo-Blog-Encrypt](https://github.com/MikeCoder/hexo-blog-encrypt)
<!--more-->
## Method 1 （不推荐）
之前的时候，网站使用的是很简单的加密方式，我把它贴过来。原网站：[CSDN](https://blog.csdn.net/Lancelot_Lewis/article/details/53422901)

![hexoencrypt](https://file.kmore.ml/pic/2019-02-01-Hexo文章加密/hexoencrypt.png "简单加密方法")

**这个加密的方式有几个问题：**
- 这个加密是非常原始的，其实用了一个messagebox来阻止了browser的下一步进行。稍懂一些的人，一个F12，就能看到了。
- 我在chrome上，多刷新几次，不用密码似乎也能进入到页面，所以，这个真的只能骗骗小朋友啦。

## Method 2 （推荐）
这种就是Hexo-Blog-Encrypt。目前用下来效果不错。在F12页面中，所有的文章内容都被base64加密了，看到的只能是乱码，我用base64解密似乎也不成功，这样挺好。另外，设置后，可以把输入密码的msgbox去掉换成页面内的，很符合大部分人的密码输入习惯。

安装方法见作者的介绍。

安装后，找到hexo的scaffolds文件夹，调整下post的模板，把encrypt的几个参数放进去，这样就不用每次都要再输一遍了（反正password空值的时候是不会被加密的）。

另外，关于输入密码界面的CSS，要到`\node_modules\hexo-blog-encrypt\lib`中的`blog-encrypt.css`调整。

## 关于TOC加密
我使用了作者在[issue27](https://github.com/MikeCoder/hexo-blog-encrypt/issues/27)中给出的，虽然在解密前toc不会出现，但是没有加密的文章的toc就显示不出来了。

我还参考了[zealscott](https://www.jianshu.com/p/be095c5fdeb7)的，不过他的也有几个问题，比如默认会显示social link的名字，我给改了下。再者不管是否加密，目录并不会加密，所以也有问题。还要再研究下！

- yuyuforest也在她的[Hexo | 在NexT主题下加密文章和目录](https://yuyuforest.com/2018/10/18/encrypt-toc/)中写了她的修改。也是学习的一大步！
