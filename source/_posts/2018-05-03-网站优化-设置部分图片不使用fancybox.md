---
title: 网站优化-设置部分图片不使用fancybox
tags: [建站,优化]
categories:
  - 金融狗在假装码农
timestamp: pt=0503235123
date: 2018-05-03 23:51:23
---
> Q:在hexo next主题中，把gp的图片嵌入到fancybox中后（[方法点此](https://kentspace.xyz/2018/2018-04-09-Hexo-next%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%86%8C%E9%A1%B5/)的第五点两条斜杠），发现打赏功能中的图片也默认套上了fancybox，吃藕~丑。
<!--more-->
### 如何才能根据需求使用fancybox呢？
搜索后，发现如下方法，供大家分享使用：

找到themes\next\source\js\src\utils.js文件，在文件中`var $image = $(this);`后加入
```js
if ($(this).hasClass('nofancybox')) return;
```

即
```js
wrapImageWithFancyBox: function () {
    $('.content img')
      .not('[hidden]')
      .not('.group-picture img, .post-gallery img')
      .each(function () {
        var $image = $(this);
			if ($(this).hasClass('nofancybox')) return;
			//以上这句
        var imageTitle = $image.attr('title');
        var $imageWrapLink = $image.parent('a');
```
之后，在img标签使用的时候加上class="nofancybox"即可。

### 修改reward.swig
找到themes\next\layout\_macro\reward.swig，打开后，分别在微信、支付宝和bitcoin的img标签中加入`class="nofancybox"`

例如：
```html
<img class="nofancybox" id="wechat_qr" src="{{ theme.wechatpay }}" alt="{{ theme.author }} {{ __('reward.wechatpay') }}"/>
```
---
> [原出处](https://blog.csdn.net/cddchina/article/details/79764432)
