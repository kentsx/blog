---
title: 给Anisina添加本地搜索
timestamp: pt=0405180944
date: 2018-04-05 18:09:44
tags:
- 建站
categories: 金融狗在假装码农
---
目前这个改进还是个半成品，不知为何我只能实现在首页使用这个搜索，且搜索框的长度不能出现滚动带，所以内容多的时候会无限长。另外，可能是与原主体css产生了冲突，导致搜索出来的内容不能高亮显示。如果有大神愿意改进，那就太好了。鉴于我自己的水平有限，所以我改用了next主题，关于Anisina的改进，短期内可能会不再进行了。
<!--more-->
## 首先是安装`hexo-generator-search`
安装分为两步，首先通过 npm 将插件安装到本地：

```bash
npm install hexo-generator-search --save
```

## 然后在全局（`_config.yml`）配置：

```yml
search:
  path: search.xml
  field: post
```

- `path`，生成的路径，上述配置后可以通过 `/search.xml` 访问到文件
- `field`，用来配置全局检索的区间，可以是 `post/page/all`

以上内容可在hexo-generator-search的主页找到。

## 剩下内容，则我已提供相关文件于repo中
> 可自行[fork或下载](https://github.com/kentsx/anisina_localsearch)。

## 最后，在`template`文件中
我提供了如下代码，大家可以将其插入到你喜欢的部位，如footer等。

```js
<section align= center>
<!-- Local Search-->
<%- partial('_partial/search', {wrapStyle: '', inputStyle: ''}) %>
</section>
```