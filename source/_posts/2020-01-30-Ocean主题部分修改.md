---
title: Ocean主题部分修改【更新中】
tags: [建站, theme, Ocean]
categories:
  - 金融狗在假装码农
photos:
author: Mr.K
abstract: 【】
message: 感谢浏览，本文内容已加密，请输入密码：
top: 0
timestamp: pt=0130143540
date: 2020-01-30 14:35:40
password:
---
记录一下自己在Ocean主题上做的一些改动

<!-- more --> 

参考了主题作者的文章：[关于 Ocean 使用中的问题](https://zhwangart.github.io/2019/07/02/Ocean-Issues/)，以及她的github的repo issue。

## 结尾Copyright
### 功能实现
原作者提供的分享实在是比较鸡肋，我们就关了吧。并加入版权信息。

在`~\themes\ocean\layout\_partial\article.ejs`中，找到
```
        <footer class="article-footer">
          <a data-url="<%- post.permalink %>" data-id="<%= post._id %>"
             class="article-share-link"><%= __('share') %></a>
          <%- partial('post/tag') %>
        </footer>
```
替换为：
```
    <% if (!index || is_post()) { %>
        <footer class="article-footer">
          <!--关闭share
          <a data-url="<%- post.permalink %>" data-id="<%= post._id %>"
             class="article-share-link"><%= __('share') %></a>
          -->
          <%- partial('post/tag') %>
          <% if (!index && is_post()) { %>
            <div>&nbsp;</div>
            <div>&nbsp;</div> 
            <div style="text-align:center;color: #ccc;font-size:14px;">------------- END &nbsp;&nbsp;<i class="fe fe-smile"></i>&nbsp;&nbsp;感谢您的阅读 -------------</div>
          <% } %>
            <!--文章结尾-->
            <div>&nbsp;</div>
            <div>&nbsp;</div>
            <div class="article-copyright" style="text-align:left;font-size:14px;"><b>本文链接：</b><a href="<%- post.permalink %>">
            <%- post.permalink %></a></div>
            <div class="article-copyright" style="text-align:left;font-size:14px;"><b>版权声明：</b>
            本站遵循 “署名-非商业性使用-相同方式共享 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">3.0 (CC BY-NC-SA 3.0)”</a>许可协议。</div>
        </footer>
```

### 美化
实现上述功能后，由于默认链接是会有蓝色显示的，为了让这部分内容不要这么突兀，进行了下述的美化。

在`~\themes\ocean\source\css\_partial\article.styl`中大概第100行左右：

为便于以后修改等，在`//Tags`前插入以下内容：
```
//copyright部分的链接颜色与文字颜色
.article-copyright
  a:link {
  color: #ccc;
  background-color: transparent;
  text-decoration: underline;
  }
  a:visited {
  color: #ccc;
  background-color: transparent;
  text-decoration: underline;
  }
  color #ccc
```

## 分类、相册页面
开启的方法很简单：
```
hexo new page gallery //可以换成categories等等，以下对应
```
然后打开`~/source/gallery/index.md`，在两个`---`之间添加一个`layout: gallery`或者`layout: categories`

这样分类自己就会加载了，相簿的方法见作者写的。

## 导航栏的中文
这个默认似乎是英文的，至少我是这样。在站点的`_config.yml` 中键入`zh-CN`，依然没有反应。后来找到是直接去theme下的`_config.yml`，menu部分前面直接改成中文即可。例如home改成首页。

## 导航栏等CSS中图标的数字对应关系
主题作者说的是用feather icons，但我发现他们的网站实际上不是这套编号方式。
辗转了很久，找到了这个网站。差一个“s”，也许是feather icon最开始项目的网站吧。
[https://feathericon.github.io/feathericon/](https://feathericon.github.io/feathericon/)

## Valine评论
这个目前还有些bug，等弄好了再来补充吧
